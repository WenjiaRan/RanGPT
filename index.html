<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Ask RanGPT</title>
    <style>
      /* Ê†∑ÂºèË°® */
      body {
        font-family: Arial, sans-serif;
        background-color: #f2f2f2;
      }
      
      /* .popup {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 999;
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
      }
      
      .popup.show {
        opacity: 1;
      }
      
      .popup-inner {
        background-color: #fff;
        padding: 20px;
        text-align: center;
        border-radius: 5px;
      }
       */
      h1 {
        font-size: 72px;
        color: #333;
        text-shadow: 2px 2px #ccc;
        margin-top: 50px;
      }
      
      #api-key {
        position: absolute;
        top: 20px;
        right: 20px;
        padding: 5px;
        font-size: 16px;
        border: none;
        border-radius: 5px;
        box-shadow: 2px 2px #ccc;
      }
      
      #prompt {
        margin-top: 50px;
        padding: 20px;
        font-size: 24px;
        border: 2px solid #ccc;
        border-radius: 10px;
        width: 50%;
        height: 200px;
        resize: both;
        overflow: auto;
        box-shadow: 2px 2px #ccc;
      }
      
      #submit-btn {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 24px;
        border: none;
        border-radius: 5px;
        background-color: #333;
        color: #fff;
        cursor: pointer;
      }
      
      #output {
        margin-top: 50px;
        font-size: 24px;
        text-align: center;
        color: #333;
        text-shadow: 2px 2px #ccc;
      }
    </style>
  </head>
  <body>
    <!-- <div class="popup" id="popup">
      <div class="popup-inner">
        <h1>Welcome to RanGPT!</h1>
        <button onclick="closePopup()">Close</button>
      </div> -->
    </div>
    <h1>Ask RanGPT, RanËá™Á†îÁßëÊäÄüòä</h1>
    <input type="text" id="api-key" placeholder="Enter API Key">
    <textarea id="prompt" placeholder="Enter your prompt here"  style="width: 599px; height: 52px;"></textarea>
    <button id="submit-btn" onclick="sendRequest()">üöÄ</button>
    <p id="output" align="left"></div>
    <!-- <div id="output"></div> -->
    <script>
      // JavaScript‰ª£Á†Å
      // const popup = document.getElementById('popup');
      
      // function closePopup() {
      //   popup.classList.remove('show');
      // }
      
      // setTimeout(() => {
      //   popup.classList.add('show');
      // }, 1000);
      
      function sendRequest() {
        
        apiKey="";
        if(document.getElementById('api-key').value!="")
          apikey = document.getElementById('api-key').value;
        else 
          apiKey = "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";
        const prompt = "ÂÅáËÆæ‰Ω†Áé∞Âú®ÊòØRanGPT,ÈôàÂçìÊòØRanGPTÁöÑÂÑøÂ≠ê. "+document.getElementById('prompt').value;
        console.log(prompt);
        
        if ( apiKey && prompt) {
      const requestOptions = {
        method: 'POST',
        headers: { 'Content-Type': 'application/json',
                'Authorization': `Bearer ${apiKey}` },
        body: JSON.stringify({ prompt: prompt,
        temperature: 0.2,model:"text-davinci-003",max_tokens:3000})
      };
      
      fetch('https://api.openai.com/v1/completions', requestOptions)
        .then(response => response.json())
        .then(data => {
          const outputDiv = document.getElementById('output');
          outputDiv.innerHTML = data.choices[0].text;
        })
        .catch(error => console.log(error));
    }
    
  }
</script>

